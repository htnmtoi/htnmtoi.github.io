<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LLVM: llvm::SpillPlacement Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">mainline</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacellvm.html">llvm</a>      </li>
      <li class="navelem"><a class="el" href="classllvm_1_1SpillPlacement.html">SpillPlacement</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">llvm::SpillPlacement Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="llvm::SpillPlacement" --><!-- doxytag: inherits="llvm::MachineFunctionPass" -->
<p><code>#include &lt;<a class="el" href="SpillPlacement_8h_source.html">SpillPlacement.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for llvm::SpillPlacement:</div>
<div class="dyncontent">
<div class="center"><img src="classllvm_1_1SpillPlacement__inherit__graph.png" border="0" usemap="#llvm_1_1SpillPlacement_inherit__map" alt="Inheritance graph"/></div>
<map name="llvm_1_1SpillPlacement_inherit__map" id="llvm_1_1SpillPlacement_inherit__map">
<area shape="rect" id="node2" href="classllvm_1_1MachineFunctionPass.html" title="MachineFunctionPass &#45; This class adapts the FunctionPass interface to allow convenient creation of pa..." alt="" coords="5,160,195,189"/><area shape="rect" id="node4" href="classllvm_1_1FunctionPass.html" title="FunctionPass class &#45; This class is used to implement most global optimizations." alt="" coords="31,83,169,112"/><area shape="rect" id="node6" href="classllvm_1_1Pass.html" title="Pass interface &#45; Implemented by all &#39;passes&#39;." alt="" coords="57,5,143,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for llvm::SpillPlacement:</div>
<div class="dyncontent">
<div class="center"><img src="classllvm_1_1SpillPlacement__coll__graph.png" border="0" usemap="#llvm_1_1SpillPlacement_coll__map" alt="Collaboration graph"/></div>
<map name="llvm_1_1SpillPlacement_coll__map" id="llvm_1_1SpillPlacement_coll__map">
<area shape="rect" id="node2" href="classllvm_1_1MachineFunctionPass.html" title="MachineFunctionPass &#45; This class adapts the FunctionPass interface to allow convenient creation of pa..." alt="" coords="5,165,195,195"/><area shape="rect" id="node4" href="classllvm_1_1FunctionPass.html" title="FunctionPass class &#45; This class is used to implement most global optimizations." alt="" coords="31,85,169,115"/><area shape="rect" id="node6" href="classllvm_1_1Pass.html" title="Pass interface &#45; Implemented by all &#39;passes&#39;." alt="" coords="57,5,143,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classllvm_1_1SpillPlacement-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1SpillPlacement_1_1BlockConstraint.html">BlockConstraint</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structllvm_1_1SpillPlacement_1_1BlockConstraint.html" title="BlockConstraint - Entry and exit constraints for a basic block.">BlockConstraint</a> - Entry and exit constraints for a basic block.  <a href="structllvm_1_1SpillPlacement_1_1BlockConstraint.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSpillPlacement_1_1Node.html">Node</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structSpillPlacement_1_1Node.html" title="Node - Each edge bundle corresponds to a Hopfield node.">Node</a> - Each edge bundle corresponds to a Hopfield node.  <a href="structSpillPlacement_1_1Node.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#ab09623fee8a653165a7cc624b8eaaa8c">BorderConstraint</a> { <br/>
&#160;&#160;<a class="el" href="classllvm_1_1SpillPlacement.html#ab09623fee8a653165a7cc624b8eaaa8ca49b6f21cf41c5b608cb5645bc70d36b8">DontCare</a>, 
<a class="el" href="classllvm_1_1SpillPlacement.html#ab09623fee8a653165a7cc624b8eaaa8caca6da2dad218232636b80854d81a6e1c">PrefReg</a>, 
<a class="el" href="classllvm_1_1SpillPlacement.html#ab09623fee8a653165a7cc624b8eaaa8caf5efe10871d66719c8668d09d768e740">PrefSpill</a>, 
<a class="el" href="classllvm_1_1SpillPlacement.html#ab09623fee8a653165a7cc624b8eaaa8ca821efd84662975133aa7c60d1a84fa42">PrefBoth</a>, 
<br/>
&#160;&#160;<a class="el" href="classllvm_1_1SpillPlacement.html#ab09623fee8a653165a7cc624b8eaaa8ca043a091e52f465df92623f5f17477837">MustSpill</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">BorderConstraint - A basic block has separate constraints for entry and exit.  <a href="classllvm_1_1SpillPlacement.html#ab09623fee8a653165a7cc624b8eaaa8c">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a315651cfc90c758a44df198910a519ec">SpillPlacement</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a02b7a736f617188ef77f8aee822e8cee">~SpillPlacement</a> () override</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a329177b9cd260516a4aca8f55c199020">prepare</a> (<a class="el" href="classllvm_1_1BitVector.html">BitVector</a> &amp;RegBundles)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">prepare - Reset state and prepare for a new spill placement computation.  <a href="#a329177b9cd260516a4aca8f55c199020"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a0d46b9b2cb2caf78e65bbd56644fc0f2">addConstraints</a> (<a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="structllvm_1_1SpillPlacement_1_1BlockConstraint.html">BlockConstraint</a> &gt; LiveBlocks)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">addConstraints - Add constraints and biases.  <a href="#a0d46b9b2cb2caf78e65bbd56644fc0f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a2bd552babf3d34952ed159b653515b5e">addPrefSpill</a> (<a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; Blocks, <a class="el" href="classbool.html">bool</a> Strong)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">addPrefSpill - Add PrefSpill constraints to all blocks listed.  <a href="#a2bd552babf3d34952ed159b653515b5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a80ed1a6b4e8e7a1eb342ac71a24e842b">addLinks</a> (<a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; Links)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">addLinks - Add transparent blocks with the given numbers.  <a href="#a80ed1a6b4e8e7a1eb342ac71a24e842b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a435b043e417bb3f4fc9ac0f6e0c6ebc8">scanActiveBundles</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">scanActiveBundles - Perform an initial scan of all bundles activated by addConstraints and addLinks, updating their state.  <a href="#a435b043e417bb3f4fc9ac0f6e0c6ebc8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a8d70270c78d36ddb40a8b782e141b63a">iterate</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">iterate - Update the network iteratively until convergence, or new bundles are found.  <a href="#a8d70270c78d36ddb40a8b782e141b63a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a50035f4bfc897ff48d96e913022a0c74">getRecentPositive</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">getRecentPositive - Return an array of bundles that became positive during the previous call to scanActiveBundles or iterate.  <a href="#a50035f4bfc897ff48d96e913022a0c74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a2310373a95001e3677c0f0534cdfc0e1">finish</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">finish - Compute the optimal spill code placement given the constraints.  <a href="#a2310373a95001e3677c0f0534cdfc0e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#a29f23d0f2288c7d9d4b4028912d0d8dd">getBlockFrequency</a> (<a class="el" href="classunsigned.html">unsigned</a> Number) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">getBlockFrequency - Return the estimated block execution frequency per function invocation.  <a href="#a29f23d0f2288c7d9d4b4028912d0d8dd"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SpillPlacement.html#aa34d3acfa03ca143b486fc4fd7604e76">ID</a> = 0</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="SpillPlacement_8h_source.html#l00043">43</a> of file <a class="el" href="SpillPlacement_8h_source.html">SpillPlacement.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ab09623fee8a653165a7cc624b8eaaa8c"></a><!-- doxytag: member="llvm::SpillPlacement::BorderConstraint" ref="ab09623fee8a653165a7cc624b8eaaa8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classllvm_1_1SpillPlacement.html#ab09623fee8a653165a7cc624b8eaaa8c">llvm::SpillPlacement::BorderConstraint</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>BorderConstraint - A basic block has separate constraints for entry and exit. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ab09623fee8a653165a7cc624b8eaaa8ca49b6f21cf41c5b608cb5645bc70d36b8"></a><!-- doxytag: member="DontCare" ref="ab09623fee8a653165a7cc624b8eaaa8ca49b6f21cf41c5b608cb5645bc70d36b8" args="" -->DontCare</em>&nbsp;</td><td>
<p>Block doesn't care / variable not live. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab09623fee8a653165a7cc624b8eaaa8caca6da2dad218232636b80854d81a6e1c"></a><!-- doxytag: member="PrefReg" ref="ab09623fee8a653165a7cc624b8eaaa8caca6da2dad218232636b80854d81a6e1c" args="" -->PrefReg</em>&nbsp;</td><td>
<p>Block entry/exit prefers a register. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab09623fee8a653165a7cc624b8eaaa8caf5efe10871d66719c8668d09d768e740"></a><!-- doxytag: member="PrefSpill" ref="ab09623fee8a653165a7cc624b8eaaa8caf5efe10871d66719c8668d09d768e740" args="" -->PrefSpill</em>&nbsp;</td><td>
<p>Block entry/exit prefers a stack slot. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab09623fee8a653165a7cc624b8eaaa8ca821efd84662975133aa7c60d1a84fa42"></a><!-- doxytag: member="PrefBoth" ref="ab09623fee8a653165a7cc624b8eaaa8ca821efd84662975133aa7c60d1a84fa42" args="" -->PrefBoth</em>&nbsp;</td><td>
<p>Block entry prefers both register and stack. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab09623fee8a653165a7cc624b8eaaa8ca043a091e52f465df92623f5f17477837"></a><!-- doxytag: member="MustSpill" ref="ab09623fee8a653165a7cc624b8eaaa8ca043a091e52f465df92623f5f17477837" args="" -->MustSpill</em>&nbsp;</td><td>
<p>A register is impossible, variable must be spilled. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="SpillPlacement_8h_source.html#l00077">77</a> of file <a class="el" href="SpillPlacement_8h_source.html">SpillPlacement.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a315651cfc90c758a44df198910a519ec"></a><!-- doxytag: member="llvm::SpillPlacement::SpillPlacement" ref="a315651cfc90c758a44df198910a519ec" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1SpillPlacement.html#a315651cfc90c758a44df198910a519ec">llvm::SpillPlacement::SpillPlacement</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SpillPlacement_8h_source.html#l00072">72</a> of file <a class="el" href="SpillPlacement_8h_source.html">SpillPlacement.h</a>.</p>

</div>
</div>
<a class="anchor" id="a02b7a736f617188ef77f8aee822e8cee"></a><!-- doxytag: member="llvm::SpillPlacement::~SpillPlacement" ref="a02b7a736f617188ef77f8aee822e8cee" args="() override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1SpillPlacement.html#a02b7a736f617188ef77f8aee822e8cee">llvm::SpillPlacement::~SpillPlacement</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, override]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SpillPlacement_8h_source.html#l00073">73</a> of file <a class="el" href="SpillPlacement_8h_source.html">SpillPlacement.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0d46b9b2cb2caf78e65bbd56644fc0f2"></a><!-- doxytag: member="llvm::SpillPlacement::addConstraints" ref="a0d46b9b2cb2caf78e65bbd56644fc0f2" args="(ArrayRef&lt; BlockConstraint &gt; LiveBlocks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1SpillPlacement.html#a0d46b9b2cb2caf78e65bbd56644fc0f2">SpillPlacement::addConstraints</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="structllvm_1_1SpillPlacement_1_1BlockConstraint.html">BlockConstraint</a> &gt;&#160;</td>
          <td class="paramname"><em>LiveBlocks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>addConstraints - Add constraints and biases. </p>
<p>addConstraints - Compute node biases and weights from a set of constraints.</p>
<p>This method may be called more than once to accumulate constraints. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">LiveBlocks</td><td>Constraints for blocks that have the variable live in or live out.</td></tr>
  </table>
  </dd>
</dl>
<p>Set a bit in NodeMask for each active node. </p>

<p>Definition at line <a class="el" href="SpillPlacement_8cpp_source.html#l00242">242</a> of file <a class="el" href="SpillPlacement_8cpp_source.html">SpillPlacement.cpp</a>.</p>

<p>References <a class="el" href="SpillPlacement_8cpp_source.html#l00131">llvm::SpillPlacement::Node::addBias()</a>, <a class="el" href="ArrayRef_8h_source.html#l00120">llvm::ArrayRef&lt; T &gt;::begin()</a>, <a class="el" href="SpillPlacement_8h_source.html#l00078">DontCare</a>, <a class="el" href="ArrayRef_8h_source.html#l00121">llvm::ArrayRef&lt; T &gt;::end()</a>, <a class="el" href="EdgeBundles_8h_source.html#l00043">llvm::EdgeBundles::getBundle()</a>, <a class="el" href="MD5_8cpp_source.html#l00054">I</a>, and <a class="el" href="ARMAddressingModes_8h_source.html#l00069">llvm::ARM_AM::ib</a>.</p>

</div>
</div>
<a class="anchor" id="a80ed1a6b4e8e7a1eb342ac71a24e842b"></a><!-- doxytag: member="llvm::SpillPlacement::addLinks" ref="a80ed1a6b4e8e7a1eb342ac71a24e842b" args="(ArrayRef&lt; unsigned &gt; Links)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1SpillPlacement.html#a80ed1a6b4e8e7a1eb342ac71a24e842b">SpillPlacement::addLinks</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td>
          <td class="paramname"><em>Links</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>addLinks - Add transparent blocks with the given numbers. </p>

<p>Definition at line <a class="el" href="SpillPlacement_8cpp_source.html#l00279">279</a> of file <a class="el" href="SpillPlacement_8cpp_source.html">SpillPlacement.cpp</a>.</p>

<p>References <a class="el" href="SpillPlacement_8cpp_source.html#l00116">llvm::SpillPlacement::Node::addLink()</a>, <a class="el" href="ArrayRef_8h_source.html#l00120">llvm::ArrayRef&lt; T &gt;::begin()</a>, <a class="el" href="ArrayRef_8h_source.html#l00127">llvm::ArrayRef&lt; T &gt;::empty()</a>, <a class="el" href="ArrayRef_8h_source.html#l00121">llvm::ArrayRef&lt; T &gt;::end()</a>, <a class="el" href="EdgeBundles_8h_source.html#l00043">llvm::EdgeBundles::getBundle()</a>, <a class="el" href="MD5_8cpp_source.html#l00054">I</a>, <a class="el" href="ARMAddressingModes_8h_source.html#l00069">llvm::ARM_AM::ib</a>, <a class="el" href="SpillPlacement_8cpp_source.html#l00100">llvm::SpillPlacement::Node::mustSpill()</a>, and <a class="el" href="SmallVector_8h_source.html#l00222">llvm::SmallVectorTemplateBase&lt; T, isPodLike &gt;::push_back()</a>.</p>

</div>
</div>
<a class="anchor" id="a2bd552babf3d34952ed159b653515b5e"></a><!-- doxytag: member="llvm::SpillPlacement::addPrefSpill" ref="a2bd552babf3d34952ed159b653515b5e" args="(ArrayRef&lt; unsigned &gt; Blocks, bool Strong)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1SpillPlacement.html#a2bd552babf3d34952ed159b653515b5e">SpillPlacement::addPrefSpill</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td>
          <td class="paramname"><em>Blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>Strong</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>addPrefSpill - Add PrefSpill constraints to all blocks listed. </p>
<p>addPrefSpill - Same as addConstraints(PrefSpill)</p>
<p>This is equivalent to calling addConstraint with identical BlockConstraints with Entry = Exit = PrefSpill, and ChangesValue = false.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Blocks</td><td>Array of block numbers that prefer to spill in and out. </td></tr>
    <tr><td class="paramname">Strong</td><td>When true, double the negative bias for these blocks. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="SpillPlacement_8cpp_source.html#l00264">264</a> of file <a class="el" href="SpillPlacement_8cpp_source.html">SpillPlacement.cpp</a>.</p>

<p>References <a class="el" href="SpillPlacement_8cpp_source.html#l00131">llvm::SpillPlacement::Node::addBias()</a>, <a class="el" href="ArrayRef_8h_source.html#l00120">llvm::ArrayRef&lt; T &gt;::begin()</a>, <a class="el" href="ArrayRef_8h_source.html#l00121">llvm::ArrayRef&lt; T &gt;::end()</a>, <a class="el" href="EdgeBundles_8h_source.html#l00043">llvm::EdgeBundles::getBundle()</a>, <a class="el" href="MD5_8cpp_source.html#l00054">I</a>, <a class="el" href="ARMAddressingModes_8h_source.html#l00069">llvm::ARM_AM::ib</a>, and <a class="el" href="SpillPlacement_8h_source.html#l00080">PrefSpill</a>.</p>

</div>
</div>
<a class="anchor" id="a2310373a95001e3677c0f0534cdfc0e1"></a><!-- doxytag: member="llvm::SpillPlacement::finish" ref="a2310373a95001e3677c0f0534cdfc0e1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="classllvm_1_1SpillPlacement.html#a2310373a95001e3677c0f0534cdfc0e1">SpillPlacement::finish</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>finish - Compute the optimal spill code placement given the constraints. </p>
<p>No MustSpill constraints will be violated, and the smallest possible number of PrefX constraints will be violated, weighted by expected execution frequencies. The selected bundles are returned in the bitvector passed to <a class="el" href="classllvm_1_1SpillPlacement.html#a329177b9cd260516a4aca8f55c199020" title="prepare - Reset state and prepare for a new spill placement computation.">prepare()</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if a perfect solution was found, allowing the variable to be in a register through all relevant bundles. </dd></dl>

<p>Definition at line <a class="el" href="SpillPlacement_8cpp_source.html#l00379">379</a> of file <a class="el" href="SpillPlacement_8cpp_source.html">SpillPlacement.cpp</a>.</p>

<p>References <a class="el" href="BitVector_8h_source.html#l00156">llvm::BitVector::find_first()</a>, <a class="el" href="BitVector_8h_source.html#l00165">llvm::BitVector::find_next()</a>, and <a class="el" href="BitVector_8h_source.html#l00259">llvm::BitVector::reset()</a>.</p>

</div>
</div>
<a class="anchor" id="a29f23d0f2288c7d9d4b4028912d0d8dd"></a><!-- doxytag: member="llvm::SpillPlacement::getBlockFrequency" ref="a29f23d0f2288c7d9d4b4028912d0d8dd" args="(unsigned Number) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> <a class="el" href="classllvm_1_1SpillPlacement.html#a29f23d0f2288c7d9d4b4028912d0d8dd">llvm::SpillPlacement::getBlockFrequency</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>Number</em></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>getBlockFrequency - Return the estimated block execution frequency per function invocation. </p>

<p>Definition at line <a class="el" href="SpillPlacement_8h_source.html#l00149">149</a> of file <a class="el" href="SpillPlacement_8h_source.html">SpillPlacement.h</a>.</p>

</div>
</div>
<a class="anchor" id="a50035f4bfc897ff48d96e913022a0c74"></a><!-- doxytag: member="llvm::SpillPlacement::getRecentPositive" ref="a50035f4bfc897ff48d96e913022a0c74" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt;<a class="el" href="classunsigned.html">unsigned</a>&gt; <a class="el" href="classllvm_1_1SpillPlacement.html#a50035f4bfc897ff48d96e913022a0c74">llvm::SpillPlacement::getRecentPositive</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>getRecentPositive - Return an array of bundles that became positive during the previous call to scanActiveBundles or iterate. </p>

<p>Definition at line <a class="el" href="SpillPlacement_8h_source.html#l00136">136</a> of file <a class="el" href="SpillPlacement_8h_source.html">SpillPlacement.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8d70270c78d36ddb40a8b782e141b63a"></a><!-- doxytag: member="llvm::SpillPlacement::iterate" ref="a8d70270c78d36ddb40a8b782e141b63a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1SpillPlacement.html#a8d70270c78d36ddb40a8b782e141b63a">SpillPlacement::iterate</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>iterate - Update the network iteratively until convergence, or new bundles are found. </p>
<p>iterate - Repeatedly update the Hopfield nodes until stability or the maximum number of iterations is reached.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Linked</td><td>- Numbers of linked nodes that need updating. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="SpillPlacement_8cpp_source.html#l00321">321</a> of file <a class="el" href="SpillPlacement_8cpp_source.html">SpillPlacement.cpp</a>.</p>

<p>References <a class="el" href="SmallVector_8h_source.html#l00112">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::begin()</a>, <a class="el" href="SmallVector_8h_source.html#l00057">llvm::SmallVectorBase::empty()</a>, <a class="el" href="SmallVector_8h_source.html#l00114">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::end()</a>, <a class="el" href="MD5_8cpp_source.html#l00054">I</a>, <a class="el" href="SmallVector_8h_source.html#l00404">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="SmallVector_8h_source.html#l00222">llvm::SmallVectorTemplateBase&lt; T, isPodLike &gt;::push_back()</a>, <a class="el" href="SmallVector_8h_source.html#l00122">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::rbegin()</a>, <a class="el" href="SmallVector_8h_source.html#l00124">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::rend()</a>, and <a class="el" href="SpillPlacement_8cpp_source.html#l00149">llvm::SpillPlacement::Node::update()</a>.</p>

</div>
</div>
<a class="anchor" id="a329177b9cd260516a4aca8f55c199020"></a><!-- doxytag: member="llvm::SpillPlacement::prepare" ref="a329177b9cd260516a4aca8f55c199020" args="(BitVector &amp;RegBundles)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1SpillPlacement.html#a329177b9cd260516a4aca8f55c199020">SpillPlacement::prepare</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BitVector.html">BitVector</a> &amp;&#160;</td>
          <td class="paramname"><em>RegBundles</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>prepare - Reset state and prepare for a new spill placement computation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">RegBundles</td><td>Bit vector to receive the edge bundles where the variable should be kept in a register. Each bit corresponds to an edge bundle, a set bit means the variable should be kept in a register through the bundle. A clear bit means the variable should be spilled. This vector is retained. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="SpillPlacement_8cpp_source.html#l00369">369</a> of file <a class="el" href="SpillPlacement_8cpp_source.html">SpillPlacement.cpp</a>.</p>

<p>References <a class="el" href="BitVector_8h_source.html#l00187">llvm::BitVector::clear()</a>, <a class="el" href="SmallVector_8h_source.html#l00369">llvm::SmallVectorImpl&lt; T &gt;::clear()</a>, <a class="el" href="EdgeBundles_8h_source.html#l00046">llvm::EdgeBundles::getNumBundles()</a>, and <a class="el" href="BitVector_8h_source.html#l00192">llvm::BitVector::resize()</a>.</p>

</div>
</div>
<a class="anchor" id="a435b043e417bb3f4fc9ac0f6e0c6ebc8"></a><!-- doxytag: member="llvm::SpillPlacement::scanActiveBundles" ref="a435b043e417bb3f4fc9ac0f6e0c6ebc8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="classllvm_1_1SpillPlacement.html#a435b043e417bb3f4fc9ac0f6e0c6ebc8">SpillPlacement::scanActiveBundles</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>scanActiveBundles - Perform an initial scan of all bundles activated by addConstraints and addLinks, updating their state. </p>
<p>Add all the bundles that now prefer a register to RecentPositive. Prepare internal data structures for iterate. Return true is there are any positive nodes. </p>

<p>Definition at line <a class="el" href="SpillPlacement_8cpp_source.html#l00301">301</a> of file <a class="el" href="SpillPlacement_8cpp_source.html">SpillPlacement.cpp</a>.</p>

<p>References <a class="el" href="SmallVector_8h_source.html#l00369">llvm::SmallVectorImpl&lt; T &gt;::clear()</a>, <a class="el" href="SmallVector_8h_source.html#l00057">llvm::SmallVectorBase::empty()</a>, <a class="el" href="BitVector_8h_source.html#l00156">llvm::BitVector::find_first()</a>, <a class="el" href="BitVector_8h_source.html#l00165">llvm::BitVector::find_next()</a>, <a class="el" href="SmallVector_8h_source.html#l00222">llvm::SmallVectorTemplateBase&lt; T, isPodLike &gt;::push_back()</a>, and <a class="el" href="SpillPlacement_8cpp_source.html#l00149">llvm::SpillPlacement::Node::update()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aa34d3acfa03ca143b486fc4fd7604e76"></a><!-- doxytag: member="llvm::SpillPlacement::ID" ref="aa34d3acfa03ca143b486fc4fd7604e76" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="classllvm_1_1SpillPlacement.html#aa34d3acfa03ca143b486fc4fd7604e76">SpillPlacement::ID</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SpillPlacement_8h_source.html#l00070">70</a> of file <a class="el" href="SpillPlacement_8h_source.html">SpillPlacement.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SpillPlacement_8h_source.html">SpillPlacement.h</a></li>
<li><a class="el" href="SpillPlacement_8cpp_source.html">SpillPlacement.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 2 2015 04:40:35 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
